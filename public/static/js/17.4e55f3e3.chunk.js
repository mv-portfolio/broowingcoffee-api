(this["webpackJsonpcapstone-web-server"]=this["webpackJsonpcapstone-web-server"]||[]).push([[17],{73:function(e,t,s){"use strict";s.r(t),s.d(t,"default",(function(){return f}));var n=s(81),a=s(0),r=s(2),o=s(10),i=s(79),c=s(95),u=s.n(c),d=s(94),l=s(91),h=s(93),j=s(1);function f(){var e=Object(r.g)().token,t=Object(r.f)(),s=Object(a.useReducer)(d.c,d.d),c=Object(n.a)(s,2),f=c[0],b=c[1];Object(a.useEffect)((function(){h.a.peek("/reset-password-auth",{headers:{"reset-auth-token":e}}).then((function(e){var t=e.res,s=t.email,n=t.token;e.status&&b({type:"set",authRequest:"success",email:s,token:n})})).catch((function(e){b({type:"set",authRequest:"failed"})}))}),[]);var p=function(e){var t=0;return Object(l.d)(e)&&(e.length>2&&(t+=15),t+=10),Object(l.a)(e)&&(e.length>4&&(t+=15),t+=10),Object(l.c)(e)&&(e.length>6&&(t+=15),t+=10),Object(l.b)(e)&&(e.length>8&&(t+=15),t+=10),t},w=function(e,t){"new-password"!==e?"confirm-password"!==e||b({type:"set",confirmPassword:t,isMatched:t===f.newPassword}):b({type:"set",newPassword:t,passwordStrength:p(t),isMatched:t===f.confirmPassword})};return"success"===f.authRequest?(document.title="Broowing Coffee | New Password",Object(j.jsxs)(i.g,{style:u.a.mainPane,children:[Object(j.jsx)(i.g,{style:u.a.topPane,children:Object(j.jsxs)(i.g,{style:u.a.headerPane,children:[Object(j.jsx)(i.e,{style:u.a.title,children:"New Password"}),Object(j.jsx)(i.d,{vertical:.25}),Object(j.jsx)(i.e,{style:u.a.subtitle,children:"Please be sure, the password you enter was not leaked to anyone"})]})}),Object(j.jsxs)(i.g,{style:u.a.bodyPane,children:[Object(j.jsx)(i.f,{skinStyle:u.a.inputSkin,placeholder:"New Password",showIndicator:!0,indicatorProgress:f.passwordStrength,isTextEncrypt:f.isEncrypt,value:f.newPassword,onChangeText:function(e){return w("new-password",e)}}),Object(j.jsx)(i.d,{vertical:.5}),Object(j.jsx)(i.f,{skinStyle:u.a.inputSkin,placeholder:"Confirm Password",isTextEncrypt:f.isEncrypt,onTextEncrypt:function(){return b({type:"set",isEncrypt:!f.isEncrypt})},value:f.confirmPassword,onChangeText:function(e){return w("confirm-password",e)}}),Object(j.jsx)(i.d,{vertical:1}),Object(j.jsx)(i.a,{style:u.a.button,isLoading:f.isLoading,title:"Change",onClick:function(){f.isMatched?(b({type:"set",isLoading:!0}),h.a.push("/reset-password-decoder",{email:f.email,newPassword:f.newPassword},{headers:{"reset-auth-token":f.token}}).then((function(e){b({type:"set",authRequest:"success-done",isLoading:!1}),setTimeout((function(){t.replace("/")}),4e3)})).catch((function(e){var t=e.err;b({type:"set",isLoading:!1}),t.includes("Password")?b({type:"set",resetRequest:"failed",messageRequest:t}):b({type:"set",authRequest:"failed"})}))):b({type:"set",resetRequest:"failed",messageRequest:"Passwords does not matched"})}})]}),Object(j.jsxs)(i.g,{style:u.a.bottomPane,children:["failed"===f.resetRequest&&Object(j.jsx)(i.g,{style:u.a.errorPane,children:Object(j.jsx)(i.e,{style:u.a.errorTitle,children:f.messageRequest})}),"success"===f.resetRequest&&Object(j.jsx)(i.g,{style:u.a.infoPane,children:Object(j.jsx)(i.e,{style:u.a.infoTitle,children:f.messageRequest})})]})]})):"success-done"===f.authRequest?(document.title="Broowing Coffee | Success",Object(j.jsx)(o.f,{title:"Password Saved",subtitle:"You may now use the new password you entered"})):"failed"===f.authRequest?(document.title="Broowing Coffee | Error",Object(j.jsx)(o.a,{})):Object(j.jsx)(o.c,{})}},95:function(e,t,s){e.exports={mainPane:"_mainPane__2Lh4m",topPane:"_topPane__GKrns",headerPane:"_headerPane__1vBz_",title:"_title__2sUBA",subtitle:"_subtitle__3T_Ue",bodyPane:"_bodyPane__fR2y9",inputSkin:"_inputSkin__ZF1LH",button:"_button__1OsEj",bottomPane:"_bottomPane__3Zf66",errorPane:"_errorPane__2uG13",errorTitle:"_errorTitle__3jxXE",infoPane:"_infoPane__5y4P8",infoTitle:"_infoTitle__2kG6H"}}}]);
//# sourceMappingURL=17.4e55f3e3.chunk.js.map