(this["webpackJsonpcapstone-web-server"]=this["webpackJsonpcapstone-web-server"]||[]).push([[17],{73:function(e,t,s){"use strict";s.r(t),s.d(t,"default",(function(){return b}));var n=s(81),a=s(0),r=s(2),o=s(10),i=s(79),c=s(95),u=s.n(c),d=s(94),l=s(91),h=s(93),j=s(1);function b(){var e=Object(r.g)().token,t=Object(r.f)(),s=Object(a.useReducer)(d.c,d.d),c=Object(n.a)(s,2),b=c[0],p=c[1];Object(a.useEffect)((function(){h.a.peek("/reset-password-auth",{headers:{"reset-auth-token":e}}).then((function(e){var t=e.res,s=t.email,n=t.token;e.status&&p({type:"set",authRequest:"success",email:s,token:n})})).catch((function(e){p({type:"set",authRequest:"failed"})}))}),[]);var f=function(e){var t=0;return Object(l.d)(e)&&(e.length>2&&(t+=15),t+=10),Object(l.a)(e)&&(e.length>4&&(t+=15),t+=10),Object(l.c)(e)&&(e.length>6&&(t+=15),t+=10),Object(l.b)(e)&&(e.length>8&&(t+=15),t+=10),t},w=function(e,t){"new-password"!==e?"confirm-password"!==e||p({type:"set",confirmPassword:t,isMatched:t===b.newPassword}):p({type:"set",newPassword:t,passwordStrength:f(t),isMatched:t===b.confirmPassword})};return"success"===b.authRequest?Object(j.jsxs)(i.g,{style:u.a.mainPane,children:[Object(j.jsx)(i.g,{style:u.a.topPane,children:Object(j.jsxs)(i.g,{style:u.a.headerPane,children:[Object(j.jsx)(i.e,{style:u.a.title,children:"New Password"}),Object(j.jsx)(i.d,{vertical:.25}),Object(j.jsx)(i.e,{style:u.a.subtitle,children:"Please be sure, the password you enter was not leaked to anyone"})]})}),Object(j.jsxs)(i.g,{style:u.a.bodyPane,children:[Object(j.jsx)(i.f,{skinStyle:u.a.inputSkin,placeholder:"New Password",showIndicator:!0,indicatorProgress:b.passwordStrength,isTextEncrypt:b.isEncrypt,value:b.newPassword,onChangeText:function(e){return w("new-password",e)}}),Object(j.jsx)(i.d,{vertical:.5}),Object(j.jsx)(i.f,{skinStyle:u.a.inputSkin,placeholder:"Confirm Password",isTextEncrypt:b.isEncrypt,onTextEncrypt:function(){return p({type:"set",isEncrypt:!b.isEncrypt})},value:b.confirmPassword,onChangeText:function(e){return w("confirm-password",e)}}),Object(j.jsx)(i.d,{vertical:1}),Object(j.jsx)(i.a,{style:u.a.button,isLoading:b.isLoading,title:"Change",onClick:function(){b.isMatched?(p({type:"set",isLoading:!0}),h.a.push("/reset-password-decoder",{email:b.email,newPassword:b.newPassword},{headers:{"reset-auth-token":b.token}}).then((function(e){p({type:"set",authRequest:"success-done",isLoading:!1}),setTimeout((function(){t.replace("/")}),4e3)})).catch((function(e){var t=e.err;p({type:"set",isLoading:!1}),t.includes("Password")?p({type:"set",resetRequest:"failed",messageRequest:t}):p({type:"set",authRequest:"failed"})}))):p({type:"set",resetRequest:"failed",messageRequest:"Passwords does not matched"})}})]}),Object(j.jsxs)(i.g,{style:u.a.bottomPane,children:["failed"===b.resetRequest&&Object(j.jsx)(i.g,{style:u.a.errorPane,children:Object(j.jsx)(i.e,{style:u.a.errorTitle,children:b.messageRequest})}),"success"===b.resetRequest&&Object(j.jsx)(i.g,{style:u.a.infoPane,children:Object(j.jsx)(i.e,{style:u.a.infoTitle,children:b.messageRequest})})]})]}):"success-done"===b.authRequest?Object(j.jsx)(o.f,{title:"Password Saved",subtitle:"You may now use the new password you entered"}):"failed"===b.authRequest?Object(j.jsx)(o.a,{}):Object(j.jsx)(o.c,{})}},95:function(e,t,s){e.exports={mainPane:"_mainPane__2Lh4m",topPane:"_topPane__GKrns",headerPane:"_headerPane__1vBz_",title:"_title__2sUBA",subtitle:"_subtitle__3T_Ue",bodyPane:"_bodyPane__fR2y9",inputSkin:"_inputSkin__ZF1LH",button:"_button__1OsEj",bottomPane:"_bottomPane__3Zf66",errorPane:"_errorPane__2uG13",errorTitle:"_errorTitle__3jxXE",infoPane:"_infoPane__5y4P8",infoTitle:"_infoTitle__2kG6H"}}}]);
//# sourceMappingURL=17.18facb85.chunk.js.map